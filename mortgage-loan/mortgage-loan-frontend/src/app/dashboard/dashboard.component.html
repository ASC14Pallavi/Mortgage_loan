<div class="dashboard-container">
  <h2 class="section-title">🏦 Loan Dashboard</h2>

  <!-- Loan Selection -->
  <div class="section">
    <label for="loanSelect" class="section-label">Select Loan:</label>
    <select id="loanSelect" [(ngModel)]="selectedLoanId" (change)="fetchAmortizationSchedule()">
      <option *ngFor="let loan of userLoans" [value]="loan.id">
        Loan #{{ loan.id }} - ${{ loan.loanAmount | number: '1.2-2' }} &#64;{{ loan.interestRate }}%
      </option>
    </select>
  </div>

  <!-- Loan Details Table -->
  <div class="loan-details section">
    <h3 class="section-subtitle">📋 Loan Details</h3>
    <table class="styled-table">
      <thead>
        <tr>
          <th>Loan Amount</th>
          <th>Loan Term (Years)</th>
          <th>Interest Rate (%)</th>
          <th>Total Principal</th>
          <th>Total Interest</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>$ {{ loanAmount | number: '1.2-2' }}</td>
          <td>{{ loanTerm }}</td>
          <td>{{ interestRate | number: '1.2-2' }}%</td>
          <td>$ {{ totalPrincipal | number: '1.2-2' }}</td>
          <td>$ {{ totalInterest | number: '1.2-2' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Combined Chart -->
  <div class="chart-container section">
    <h3 class="section-subtitle">📊 Loan Payment Overview</h3>
    <canvas id="combinedChart"></canvas>
  </div>
</div>
